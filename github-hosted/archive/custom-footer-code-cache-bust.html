<!-- JRCC Custom Footer - CACHE BUST VERSION -->
<!--
    USE THIS VERSION ONLY IF:
    - You've waited 15+ minutes after CDN cache purge
    - You've cleared browser cache
    - You're still seeing the old version

    HOW TO USE:
    1. Copy this entire file into your CMS footer
    2. Each time you push changes to GitHub, increment the version number below (v3 → v4 → v5)
    3. Update the CMS with the new footer code
    4. Changes will appear IMMEDIATELY with no cache waiting

    IMPORTANT: You must manually increment the version number each time!
-->
<script>
// Load external JavaScript from GitHub with version parameter to bust ALL caches
(function() {
    // INCREMENT THIS NUMBER each time you push changes to force cache refresh
    // v3 = version 3, v4 = version 4, etc.
    var version = 'v3';

    console.log('JRCC: Loading scripts with cache-bust version:', version);

    // Load sidebar and general scripts
    var script1 = document.createElement('script');
    script1.src = 'https://cdn.jsdelivr.net/gh/Makra-ca/JRCC@latest/github-hosted/jrcc-scripts.js?' + version;
    script1.onload = function() {
        console.log('JRCC: External scripts loaded successfully (version: ' + version + ')');
    };
    script1.onerror = function() {
        console.error('JRCC: Failed to load external scripts');
    };
    document.head.appendChild(script1);

    // Load the FIXED form styling functions (with dropdown fixes)
    var script2 = document.createElement('script');
    script2.src = 'https://cdn.jsdelivr.net/gh/Makra-ca/JRCC@latest/github-hosted/jrcc-form-styles-all-complete-fixed.js?' + version;
    script2.onload = function() {
        console.log('JRCC: FIXED form styles loaded successfully (version: ' + version + ')');
        // Try to initialize immediately after load
        if (typeof initializeFormStyles === 'function') {
            initializeFormStyles();
            console.log('JRCC: Initialized form styles for all pages');
        }
    };
    script2.onerror = function() {
        console.error('JRCC: Failed to load form styles');
    };
    document.head.appendChild(script2);
})();
</script>
